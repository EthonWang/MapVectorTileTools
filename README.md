## **地图矢量瓦片生产系统**

### 1 系统介绍

****

​        地图矢量瓦片生产系统，使用一个或多个Shapefile格式的数据（点、线、面均可）生产矢量地图瓦片。瓦片以二进制格式存储在MBTiles格式的数据库中进行分发，并支持对这些数据的在线可视化。

### 2 系统亮点

****

1. ##### 高度自定义的瓦片生产配置。

   用户有最大的自由度配置瓦片生产的内容，包括Shapefile数据的属性列、最小层级、最大层级、经纬度范围、名称等等。系统根据设计的最优策略实现多图层的切割与生产，最大限度减少存储空间占用。

2. ##### 支持分布式的生产环境部署。

   基于Kafka发布订阅的消息队列系统，实现了高并发下生产任务请求的缓冲与分布式的系统部署。通过订阅生产任务请求，实现多服务器之间生产的负载均衡。有效解决瓦片生产耗时，多任务积压，单服务器压力大等问题。

3. ##### 低耦合。

   系统提供单独的生产部署包，可独立启动，与其他系统对接，实现扩展。基于独立的部署包，可以实现多服务器的离线生产。

### 3 核心技术

****

- 设计了一种最大效率的多地图图层分区与缓存策略；
- 基于PostGIS实现了地图矢量瓦片的生产；
- 基于Kafka的消息队列实现分布式环境部署与负载均衡。



